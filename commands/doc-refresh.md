---
description: "Refresh documentation after version bumps, feature additions, or periodic maintenance: $ARGUMENTS"
argument-hint: "[version, range (v1.5.0..v1.7.0), plan, changelog, readme, guides, context, release-notes, full]"
allowed-tools:
  - Read
  - Glob
  - Grep
  - Bash
  - Write
  - Edit
  - WebFetch
  - mcp__github__list_releases
  - mcp__github__list_commits
  - mcp__github__list_tags
  - mcp__github__list_pull_requests
  - mcp__github__list_issues
  - mcp__github__get_file_contents
---

# /doc-refresh

Refresh existing documentation to reflect the current state of the codebase. Analyses git history since the last release, identifies what changed, and surgically updates only the affected docs.

## Behaviour

1. Load the `doc-refresh` skill for the orchestration workflow
2. Load the `doc-standards` rule for tone and quality
3. Detect the change boundary (latest tag, provided version, or range)
4. Parse conventional commits and classify changes by type and doc impact
5. Detect file-level changes to identify which areas of the project changed
6. Build a refresh plan mapping changes to doc updates
7. Execute the plan, loading additional skills as needed:
   - `changelog` for CHANGELOG updates
   - `feature-benefits` for README features
   - `user-guides` for affected guides
   - `ai-context` for context file drift
   - `llms-txt` for file index updates
   - `package-registry` for registry metadata
   - `docs-verify` for final verification
8. Report what was updated and the quality score

## Arguments

- **No arguments**: Detect latest tag, analyse changes since that tag, refresh all affected docs
- **Version** (e.g., `1.7.0`): Refresh docs for a specific version release
- **Range** (e.g., `v1.5.0..v1.7.0`): Refresh docs for a range of versions (useful for catching up)
- **`plan`**: Dry run â€” analyse and report what needs refreshing, without writing anything
- **`changelog`**: Only refresh CHANGELOG.md
- **`readme`**: Only refresh README.md features and metrics
- **`guides`**: Only update affected user guides
- **`context`**: Only refresh AI context files and llms.txt
- **`release-notes`**: Only generate GitHub release body
- **`full`**: Refresh everything regardless of what changed

## Release-Please Integration

Run `/doc-refresh` before merging a release-please PR:

1. release-please creates a PR with version bumps and CHANGELOG skeleton
2. `/doc-refresh` enhances CHANGELOG entries with benefit language, updates README features and metrics, refreshes context files
3. Commit the refreshed docs to the release-please branch
4. Merge the PR â€” release-please creates the GitHub Release

release-please owns version strings and the `x-release-please-version` badge marker. `/doc-refresh` owns prose, features, metrics, user guides, AI context, and llms.txt.

## Output

```
ðŸ“‹ Documentation Refresh: [project-name] v1.7.0

Changes detected: 15 commits (8 feat, 4 fix, 2 docs, 1 chore)

Refresh Plan:
  âœ“ CHANGELOG.md â€” 8 entries enhanced with benefit language
  âœ“ README.md â€” 2 new features added, metrics updated (10â†’11 commands)
  âœ“ docs/guides/getting-started.md â€” updated for new /doc-refresh command
  âœ“ AGENTS.md â€” updated commands table
  âœ“ llms.txt â€” 2 new entries added
  âŠ˜ User guides â€” no affected guides beyond getting-started
  âŠ˜ Package registry â€” no metadata changes needed

ðŸ“Š Quality Score: 82/100 (B â€” Minor fixes needed) [was 78]

Remaining: Merge the release-please PR to complete the release.
```
